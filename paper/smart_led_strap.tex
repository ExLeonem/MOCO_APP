\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage[utf8]{inputenc}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}


\title{Wake alarm - Using a react-native client in combination with a rust backend.}

\author{\IEEEauthorblockN{1\textsuperscript{st} Maksim Sandybekov}
\IEEEauthorblockA{\textit{computer science - autonomouse systems)} \\
\textit{HTWG Konstanz}\\
Konstaz, Germany \\
maksim.sandybekov@live.de}
\and
\IEEEauthorblockN{2\textsuperscript{nd} Benjamin BÃ¤umler}
\IEEEauthorblockA{\textit{computer science - autonomouse systems} \\
\textit{HTWG Konstanz}\\
Konstanz, Germany \\
be391bae@htwg-konstanz.de}
}

\maketitle

\begin{abstract}


\end{abstract}

\begin{IEEEkeywords}
rust, react-native, redux, redux-saga, light, alarm, smart-light
\end{IEEEkeywords}

% Motivation, why are we doing the likes
\section{Introduction}
The quality and duration of sleep affects the health and well being of individuals.
Additionally sleep plays a major role in consolidation of memory \cite{Rauchs2005} therefore it is essential for learning process.
Looking at studies on sleep deprevation and disorders it becomes clear that a poor sleep can cause an decrease in both
mental and physical performance. \cite{Mirghani2015a, Antunes2017a} Leading up to variouse physical and mental
diseases for example type-2 diabities, anxiety and increased depression. Especially students represent a group that 
is likely to suffer sever sleep deprevation. In an conducted study 46\% of 546 students rated their sleep as failry bad up to 
very bad. Furthermore 33\% of participants reported $\leq$ 7 h of sleep on study days with an average of 6.55 h. \cite{Norbury2019a}

The research surrounding the impact of light on the human circadian clock thereby revelead an relationship between illuminance and
alertness in human beings. \cite{DuffyJeanne2009a} In addition further research uncovered a link between exposure to more intense
light and the feeling of vitality during daytime and everyday situations. \cite{Smolders2014a}

These insights suggests a system that utilizes the effects of light on the human body to improve alertness and mental as well as
pyhsical performance during the day. Using these mechanisms within the context of circadian stimulation and sleep, different
fields of application become obviouse.

While technological development proceeds there are already attempts utilizing current innovations to harness prior introduced 
positive effects. One such attempt are wake lights that simulate the sunrise. A study investigating effects on the human body
concludes that simulation of the dawn significantly improves performance on attention- and motor-based tasks/skills during the day.
\cite{Gabel2015a}

This paper proposes an application implementing functionality to utilize previousely introduced advances in research 
concerning the effects of light on the human body. The application enables a user to obtain controll over a smart lamp
to regulate the illumination, color. An additional system for scheduling of illumination facilitates the simulation of sunrises.

\section{State of the art}
Currently there is a broad range of available commercial products depicted as smart lamps. But surely there needs to be done a
distinction, because these devices often differ in their capabilities and technological stacks. 


% Approach
\section{Proposed approach}
To enable users to make full use of a lightning system, there is a need for the right control mechanisms to be in place.
Basic operations a user may take are activation/deactivation, change of color and brightness of the lamp. The context of use can be broadend 
by adding the possibility to schedule the activation of the light. This operation enables the use as a visual alarm clock or an automated
lighting system. 

We propose a distribution into client and server, already seen in different application. The client resembles a mobile application
offering functionality. On the opposite the server represents the device itself communicating with the client to offer an interface for
interaction with the light.

The communication between both instances happens through a wireless-network. As we are only interesseted to visualize the possibilitiy 
to develop a universally usable lighting system, a security layer will not be defined but should be in a production build. 


\subsection{architecture}
On an architectural level such an application needs to be 


\subsection{client}
% UI Compoenents in correlation with the basic operations
% realization on technical level
The client is purely written in react-native/javascript. This technologie enables cross-plattform development of mobile applications while offering
rather quick development cycles. Apart from programmatical differences this library requires another mindset than native development.
Compared to other technolgies the user-interface consists of so called components each of which is made up of native elements. The developed components
may be reused and composed to create new components.

% split into component types --> (screens, light, navigation, schedule, device)
% functionality of each screen?

\subsubsection{navigation}
As the application consists of mutliple screens and react-native doesen't include any possibility to navigate between screens an additional
library is needed. 


\subsubsection{state-management}
While a component is able to maintain state, looking at compound components it may appear that the same state needs to be managed at different
spots. A far better practice for this occurence involves the usage of an additional library designed especially for state-management. As this
question often arises in javascript applications, different attempts have been made to solve this issue. Many of which is the redux library,
which we selected because it is well documented and easiliy integrateable with react-native. Representing a predictable-state container the redux
library bundles state in a single spot, the so called store. The state itself can be accessed by components 

connecting to the store. Also changes to the store may be issued by the components by calling a redux method and dispatch an action to it.
The action is a normal javascript function which returns an object depicting the action which in turn consists of action type and the payload.

\subsubsection{side effects}
There are several ways to implement communication with the server. Surely one possibility is to implement the server calls inside the components,
which in result mingles the code with the 


As we already use redux to seperate and centralize the state from the components


to ease the task at hand usage of a library is suggested. 
% saga 



\subsection{server}
The main tasks of the server are to communicate with clients and to actually drive a 
led strip or any other kind of light source.

\subsubsection{Light Sources}

The server can support different kind of light sources, as long as it implements the \texttt{LedControls} trait.
Only one implementation of the trait can be used at the same time tho. But it is possible that a specific implementation
controls multiple hardware lights. At the current time there are only two implementations that can be used as light
sources:

\begin{itemize}
    \item LedStrip
    
    Controls a 4-pin led strip with a 12v pin and one pin for each color(red, green,blue). This cannot be driven 
    directly by the Raspberry Pi and therefore we need to use a extra curcuit board\cite{b0} for it. The circuit
    board allows us to controll each color seperatly by driving the gate pin of a MOSFET's respectivly. We will use 
    the pigpio Daemon\cite{b1} for this, because we need 3 PWM pins for this and currently available gpio libraries 
    for Rust only over up to 2 PWM pins.
    
    % TODO: add picture
    **picture of circuit board**

    \item MocLedStrip
    
    This is used only for testing. It allows us to verify the logic of the led controller without driving any
    GPIO's of the Raspberry Pi and also allows us to run the server on amd64 architecure for testing purposes.
\end{itemize}



\section{Results}


\section{Conclusion}


\section{Further work}



% Add Links into bib file
% \begin{thebibliography}{00}
% \bibitem{b0} Raspberry Pi \& RGB LED-Strips How to control a RGB LED-Strip with a Raspberry Pi By David Ordnung - https://dordnung.de/raspberrypi-ledstrip/
% \bibitem{b1} pigpio Daemon - http://abyz.me.uk/rpi/pigpio/pigpiod.html
% \bibitem{a0} Smart LED Lamp with Bluetooth Speaker and Clock - https://store.earlham.edu/smart-led-lamp-bluetooth-speaker-and-clock
% \bibitem{a1} 
% \end{thebibliography}

\bibliographystyle{amsplain}
\bibliography{moco}


% \vspace{12pt}

\end{document}
